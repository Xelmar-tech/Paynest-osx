Compiling 104 files with Solc 0.8.17
Solc 0.8.17 finished in 4.64s
Compiler run successful!
Traces:
  [5831023] → new DeployPaynest@0x9f7cF1d1F558E57ef88a59ac3D47214eF25B6A06
    └─ ← [Return] 29009 bytes of code

  [3816269] DeployPaynest::run()
    ├─ [0] VM::envUint("DEPLOYMENT_PRIVATE_KEY") [staticcall]
    │   └─ ← [Return] <env var value>
    ├─ [0] VM::startBroadcast(<pk>)
    │   └─ ← [Return] 
    ├─ [0] VM::addr(<pk>) [staticcall]
    │   └─ ← [Return] 0xDAef100C116E6D8358Ac3987e40b8c33F0b2730f
    ├─ [0] console::log("Deploying from:", 0xDAef100C116E6D8358Ac3987e40b8c33F0b2730f) [staticcall]
    │   └─ ← [Stop] 
    ├─ [3376868] → new PaymentsPluginSetup@0x7d966D6bc5739a945f7085beA4BA66D0b5564B65
    │   ├─ [2114996] → new PaymentsPlugin@0xEb0A396B0dAf75e63E6dDD7f8ffD664b4E3688a4
    │   │   ├─ emit Initialized(version: 255)
    │   │   └─ ← [Return] 10446 bytes of code
    │   └─ ← [Return] 6134 bytes of code
    ├─ [0] console::log("PaymentsPluginSetup deployed at:", PaymentsPluginSetup: [0x7d966D6bc5739a945f7085beA4BA66D0b5564B65]) [staticcall]
    │   └─ ← [Stop] 
    ├─ [0] VM::envAddress("PLUGIN_REPO_FACTORY") [staticcall]
    │   └─ ← [Return] <env var value>
    ├─ [0] VM::envString("PAYMENTS_PLUGIN_REPO_ENS_SUBDOMAIN") [staticcall]
    │   └─ ← [Return] <env var value>
    ├─ [0] VM::addr(<pk>) [staticcall]
    │   └─ ← [Return] 0xDAef100C116E6D8358Ac3987e40b8c33F0b2730f
    ├─ [390663] PluginRepoFactory::createPluginRepoWithFirstVersion("xelmar-payments-plugin-v7", PaymentsPluginSetup: [0x7d966D6bc5739a945f7085beA4BA66D0b5564B65], 0xDAef100C116E6D8358Ac3987e40b8c33F0b2730f, 0x307830303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303230, 0x307830303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303230)
    │   ├─ [295052] → new <unknown>@0x27f3C39672525875DEA35b9F30553A9398B23dbD
    │   │   ├─ emit Upgraded(implementation: PluginRepo: [0x917C2Ab96c40aDEfD08d240409485D8b606423E3])
    │   │   ├─ [100399] PluginRepo::initialize(PluginRepoFactory: [0x07f49c49Ce2A99CF7C28F66673d406386BDD8Ff4]) [delegatecall]
    │   │   │   ├─ emit Granted(permissionId: 0x815fe80e4b37c8582a3b773d1d7071f983eacfd56b5965db654f3087c25ada33, here: PluginRepoFactory: [0x07f49c49Ce2A99CF7C28F66673d406386BDD8Ff4], where: 0x27f3C39672525875DEA35b9F30553A9398B23dbD, who: PluginRepoFactory: [0x07f49c49Ce2A99CF7C28F66673d406386BDD8Ff4], condition: SHA-256: [0x0000000000000000000000000000000000000002])
    │   │   │   ├─ emit Granted(permissionId: 0xa0885006fe6672eeafd1deca6c67bcdc6dd79cfe2b157a98539ddf73cd8c04ea, here: PluginRepoFactory: [0x07f49c49Ce2A99CF7C28F66673d406386BDD8Ff4], where: 0x27f3C39672525875DEA35b9F30553A9398B23dbD, who: PluginRepoFactory: [0x07f49c49Ce2A99CF7C28F66673d406386BDD8Ff4], condition: SHA-256: [0x0000000000000000000000000000000000000002])
    │   │   │   ├─ emit Granted(permissionId: 0x5aa4f06bdc18535eff05128093a2315c2c960a2722e20021cbff28da04760f5b, here: PluginRepoFactory: [0x07f49c49Ce2A99CF7C28F66673d406386BDD8Ff4], where: 0x27f3C39672525875DEA35b9F30553A9398B23dbD, who: PluginRepoFactory: [0x07f49c49Ce2A99CF7C28F66673d406386BDD8Ff4], condition: SHA-256: [0x0000000000000000000000000000000000000002])
    │   │   │   ├─ emit Initialized(version: 1)
    │   │   │   └─ ← [Stop] 
    │   │   └─ ← [Return] 833 bytes of code
    │   ├─ [53763] ERC1967Proxy::fallback("xelmar-payments-plugin-v7", 0x27f3C39672525875DEA35b9F30553A9398B23dbD)
    │   │   ├─ [48855] PluginRepoRegistry::registerPluginRepo("xelmar-payments-plugin-v7", 0x27f3C39672525875DEA35b9F30553A9398B23dbD) [delegatecall]
    │   │   │   ├─ [8638] ERC1967Proxy::fallback(ERC1967Proxy: [0x35B62715459cB60bf6dC17fF8cfe138EA305E7Ee], PluginRepoFactory: [0x07f49c49Ce2A99CF7C28F66673d406386BDD8Ff4], 0x055973dfb6d3b3cd890dde3a801f5427fa973864752b6d2a1ae61cbd5ae5dc09, 0xfdb9df55000000000000000000000000000000000000000000000000000000000000004000000000000000000000000027f3c39672525875dea35b9f30553a9398b23dbd000000000000000000000000000000000000000000000000000000000000001978656c6d61722d7061796d656e74732d706c7567696e2d763700000000000000) [staticcall]
    │   │   │   │   ├─ [3701] DAO::hasPermission(ERC1967Proxy: [0x35B62715459cB60bf6dC17fF8cfe138EA305E7Ee], PluginRepoFactory: [0x07f49c49Ce2A99CF7C28F66673d406386BDD8Ff4], 0x055973dfb6d3b3cd890dde3a801f5427fa973864752b6d2a1ae61cbd5ae5dc09, 0xfdb9df55000000000000000000000000000000000000000000000000000000000000004000000000000000000000000027f3c39672525875dea35b9f30553a9398b23dbd000000000000000000000000000000000000000000000000000000000000001978656c6d61722d7061796d656e74732d706c7567696e2d763700000000000000) [delegatecall]
    │   │   │   │   │   └─ ← [Return] true
    │   │   │   │   └─ ← [Return] true
    │   │   │   ├─ [22490] ERC1967Proxy::fallback(0xcbd9df96bc2ed67d795010a245eaaec32f2ec54b2bc118fa4620d01f458c27b8, 0x27f3C39672525875DEA35b9F30553A9398B23dbD)
    │   │   │   │   ├─ [17594] ENSSubdomainRegistrar::registerSubnode(0xcbd9df96bc2ed67d795010a245eaaec32f2ec54b2bc118fa4620d01f458c27b8, 0x27f3C39672525875DEA35b9F30553A9398B23dbD) [delegatecall]
    │   │   │   │   │   ├─ [4114] ERC1967Proxy::fallback(ERC1967Proxy: [0x95D563382BeD5AcB458759EE05b27DF2CB019Cc7], ERC1967Proxy: [0x35B62715459cB60bf6dC17fF8cfe138EA305E7Ee], 0xbbdfd23f099d7ed9f535e0f97d2123efb1332b16e023b8359b3b879eaecd3c14, 0x89bb4145cbd9df96bc2ed67d795010a245eaaec32f2ec54b2bc118fa4620d01f458c27b800000000000000000000000027f3c39672525875dea35b9f30553a9398b23dbd) [staticcall]
    │   │   │   │   │   │   ├─ [3689] DAO::hasPermission(ERC1967Proxy: [0x95D563382BeD5AcB458759EE05b27DF2CB019Cc7], ERC1967Proxy: [0x35B62715459cB60bf6dC17fF8cfe138EA305E7Ee], 0xbbdfd23f099d7ed9f535e0f97d2123efb1332b16e023b8359b3b879eaecd3c14, 0x89bb4145cbd9df96bc2ed67d795010a245eaaec32f2ec54b2bc118fa4620d01f458c27b800000000000000000000000027f3c39672525875dea35b9f30553a9398b23dbd) [delegatecall]
    │   │   │   │   │   │   │   └─ ← [Return] true
    │   │   │   │   │   │   └─ ← [Return] true
    │   │   │   │   │   ├─ [2797] ENSRegistryWithFallback::owner(0x6c5bc84b709c81961aceefb833002fd66bc0a00d94b410cef8cf76cd929a4a55) [staticcall]
    │   │   │   │   │   │   └─ ← [Return] ERC1967Proxy: [0x95D563382BeD5AcB458759EE05b27DF2CB019Cc7]
    │   │   │   │   │   └─ ← [Revert] AlreadyRegistered(0x6c5bc84b709c81961aceefb833002fd66bc0a00d94b410cef8cf76cd929a4a55, 0x95D563382BeD5AcB458759EE05b27DF2CB019Cc7)
    │   │   │   │   └─ ← [Revert] AlreadyRegistered(0x6c5bc84b709c81961aceefb833002fd66bc0a00d94b410cef8cf76cd929a4a55, 0x95D563382BeD5AcB458759EE05b27DF2CB019Cc7)
    │   │   │   └─ ← [Revert] AlreadyRegistered(0x6c5bc84b709c81961aceefb833002fd66bc0a00d94b410cef8cf76cd929a4a55, 0x95D563382BeD5AcB458759EE05b27DF2CB019Cc7)
    │   │   └─ ← [Revert] AlreadyRegistered(0x6c5bc84b709c81961aceefb833002fd66bc0a00d94b410cef8cf76cd929a4a55, 0x95D563382BeD5AcB458759EE05b27DF2CB019Cc7)
    │   └─ ← [Revert] AlreadyRegistered(0x6c5bc84b709c81961aceefb833002fd66bc0a00d94b410cef8cf76cd929a4a55, 0x95D563382BeD5AcB458759EE05b27DF2CB019Cc7)
    └─ ← [Revert] AlreadyRegistered(0x6c5bc84b709c81961aceefb833002fd66bc0a00d94b410cef8cf76cd929a4a55, 0x95D563382BeD5AcB458759EE05b27DF2CB019Cc7)



== Logs ==
  Deploying from: 0xDAef100C116E6D8358Ac3987e40b8c33F0b2730f
  PaymentsPluginSetup deployed at: 0x7d966D6bc5739a945f7085beA4BA66D0b5564B65
